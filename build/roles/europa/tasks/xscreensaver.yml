- name: Installing XScreenSaver repo
  command: yum-config-manager --add-repo https://copr.fedoraproject.org/coprs/shassard/xscreensaver/repo/epel-7/shassard-xscreensaver-epel-7.repo

- name: Installing XScreenSaver
  yum:
    name=xscreensaver
    state=present

- name: Copying XScreenSaver configuration
  copy:
    src=xscreensaver/.xscreensaver
    dest=/home/{{user}}/.xscreensaver

- name: Copying XScreenSaver systemd service file
  template:
    src=xscreensaver/xscreensaver.service.j2
    dest=/etc/systemd/system/xscreensaver.service

- name: Changing XScreenSaver file permissions
  file:
    path=/usr/bin/xscreensaver
    mode=755

- name: Starting the XScreenSaver daemon
  service:
    name=xscreensaver
    state=started
    enabled=yes